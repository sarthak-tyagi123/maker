<!DOCTYPE html>
<html>
<head>
<title>Resume Builder</title>

<style>
body {
    font-family: Arial;
    display: flex;
    justify-content: center;
    padding: 20px;
    background:#f4f6f9;
}

.container {
    width:45%;
    background:white;
    padding:20px;
    border-radius:10px;
    box-shadow:0 0 10px rgba(0,0,0,0.1);
    margin-right:20px;
}

input, textarea {
    width:100%;
    padding:10px;
    margin-top:8px;
    border-radius:6px;
    border:1px solid #ccc;
}

button {
    margin-top:20px;
    width:100%;
    padding:12px;
    background:#0077b6;
    color:white;
    border:none;
    border-radius:6px;
    cursor:pointer;
}

button:hover { background:#005f8f; }

/* ===== PREVIEW DESIGN ===== */

.preview {
    width:45%;
    background:white;
    border-radius:10px;
    box-shadow:0 0 10px rgba(0,0,0,0.1);
    overflow:hidden;
}

/* Header Blue Section */
.resume-header {
    background:#1d84b5;
    color:white;
    padding:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.resume-header img {
    width:100px;
    height:100px;
    object-fit:cover;
    border-radius:50%;
    border:3px solid white;
}

.resume-header h1 { margin:0; }
.resume-header h3 { margin:5px 0; font-weight:normal; }

/* Body */
.resume-body {
    display:flex;
    padding:20px;
}

.left {
    width:65%;
    padding-right:20px;
    border-right:1px solid #ddd;
}

.right {
    width:35%;
    padding-left:20px;
}

h2 {
    font-size:16px;
    border-bottom:2px solid #1d84b5;
    padding-bottom:5px;
    margin-top:15px;
}

p { margin:5px 0; font-size:14px; }

</style>
</head>

<body>

<div class="container">
    <h1>Create Resume</h1>

    <form action="/generate" method="POST" enctype="multipart/form-data" id="resumeForm">

        <h2>Upload Photo</h2>
        <input type="file" name="photo" id="photoInput" accept="image/*">

        <h2>Personal Info</h2>
        <input type="text" id="fullName" placeholder="Full Name">
        <input type="text" id="jobTitle" placeholder="Job Title">
        <input type="email" id="email" placeholder="Email">
        <input type="text" id="phone" placeholder="Phone">
        <input type="text" id="linkedin" placeholder="LinkedIn">

        <h2>Summary</h2>
        <textarea id="summary" rows="3"></textarea>

        <h2>Education</h2>
        <input type="text" id="degree" placeholder="Degree">
        <input type="text" id="college" placeholder="College">
        <input type="text" id="eduYear" placeholder="Year">

        <h2>Experience</h2>
        <input type="text" id="company" placeholder="Company">
        <input type="text" id="position" placeholder="Position">
        <input type="text" id="expYear" placeholder="Duration">
        <textarea id="jobDesc" rows="3"></textarea>

        <h2>Skills</h2>
        <input type="text" id="skills" placeholder="HTML, CSS, JS">

        <h2>Projects</h2>
        <input type="text" id="projectTitle" placeholder="Project">
        <textarea id="projectDesc" rows="3"></textarea>

        <h2>Certifications</h2>
        <input type="text" id="certifications">

        <h2>Languages</h2>
        <input type="text" id="languages">

        <button type="submit">Generate Resume</button>
    </form>
</div>

<!-- ===== LIVE PREVIEW ===== -->

<div class="preview">

    <!-- Header -->
    <div class="resume-header">
        <div>
            <h1 id="previewFullName">Full Name</h1>
            <h3 id="previewJobTitle">Job Title</h3>
            <p id="previewEmail"></p>
            <p id="previewPhone"></p>
            <p id="previewLinkedin"></p>
        </div>
        <img id="photoPreview" src="">
    </div>

    <!-- Body -->
    <div class="resume-body">

        <div class="left">
            <h2>Summary</h2>
            <p id="previewSummary"></p>

            <h2>Education</h2>
            <p id="previewDegree"></p>
            <p id="previewCollegeYear"></p>

            <h2>Experience</h2>
            <p id="previewCompany"></p>
            <p id="previewPosition"></p>
            <p id="previewExpYear"></p>
            <p id="previewJobDesc"></p>

            <h2>Projects</h2>
            <p id="previewProjectTitle"></p>
            <p id="previewProjectDesc"></p>
        </div>

        <div class="right">
            <h2>Skills</h2>
            <p id="previewSkills"></p>

            <h2>Certifications</h2>
            <p id="previewCertifications"></p>

            <h2>Languages</h2>
            <p id="previewLanguages"></p>
        </div>

    </div>
</div>

<script>

const fields = ['fullName','jobTitle','email','phone','linkedin','summary','degree','college','eduYear','company','position','expYear','jobDesc','skills','projectTitle','projectDesc','certifications','languages'];

fields.forEach(f=>{
    const input = document.getElementById(f);
    input.addEventListener('input', ()=>{
        const el = document.getElementById('preview'+capitalize(f));
        if(el) el.innerText = input.value;

        if(f==='college'||f==='eduYear'){
            document.getElementById('previewCollegeYear').innerText =
                document.getElementById('college').value + " - " +
                document.getElementById('eduYear').value;
        }
    });
});

const photoInput = document.getElementById('photoInput');
const photoPreview = document.getElementById('photoPreview');

photoInput.addEventListener('change', e=>{
    const file = e.target.files[0];
    if(file) photoPreview.src = URL.createObjectURL(file);
});

function capitalize(s){ return s.charAt(0).toUpperCase() + s.slice(1); }

</script>

</body>
</html>
